Effective Java 第三版



第２章　オブジェクトの生成と消滅

項目１　コンストラクタの代わりにstaticファクトリメソッドを検討する

要旨　
コンストラクタとは、Javaの言語仕様によるオブジェクトの生成にかかわる初期化メソッドです。
staticファクトリメソッドとは、デザインパターンに存在するFactoryMethodパターンとはおなじものではありません。
特徴としては以下のものがあります。５つの長所と２つの短所があります。
長所
・名前をもつ。
・呼び出しごとにオブジェクトを生成する必要がない。
・戻り値の型を任意のサブタイプのオブジェクトにできる。
・返されるオブジェクトのクラスは、入力パラメータの値に応じて呼び出しごとに変えられる。
・返されるオブジェクトのクラスは、クラスが書かれた時点で存在する必要がない。
短所
・publicあるいは、protectedのコンストラクタを持たないクラスのサブクラスをつくれない。
・プログラマが、見つけにくい。
　APIドキュメンテーションの中では目立たないために、分かりづらい。いずれ、改修が加えられて目立つようになるかもしれない。
　共通する命名規約を遵守することで、この問題は軽減できる。
　例えば、From,of,valueOf,instance,create,getType,newType,typeのように、共通的な名称により区別する方法がある。

コンストラクタと、staticファクトリメソッド、各々の使い方を比較すると、良い勉強になるでしょう。
たいていの場合は、staticファクトリメソッドの利用を優先的に検討し、コンストラクタ有りきでのクラス設計は避けるべきです。